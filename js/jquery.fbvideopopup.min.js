(function($){var FBDialog=null;var methods={init:function(options){options=$.extend({},$.fn.FBPopup.defaults,options);if(FBDialog==null){FBDialog=$('<div>').css({display:'none',padding:0});if(options.cssClass!='')FBDialog.addClass(options.cssClass);$('body').append(FBDialog);FBDialog.dialog({autoOpen:false,resizable:false,draggable:options.draggable,modal:options.modal,close:function(){FBDialog.html('');$(".ui-dialog-titlebar").show()}})}return this.each(function(){var obj=$(this);var data=obj.data('FB');if(!data){obj.data('FB',{target:obj,'active':true});$(obj).bind('click.FBPopup',function(){var fbId=options.fbId;if($.trim(fbId)==''&&obj.is("a")){fbId=getFBIdFromUrl(obj.attr("href"))}if($.trim(fbId)==''||fbId===false){fbId=obj.attr(options.id)}var fbTitle=$.trim(options.title);var FBURL=""+fbId; FBDialog.html(getFBPlayer(FBURL,options.width,options.height));FBDialog.dialog({'width':'auto','height':'auto'});FBDialog.dialog({'minWidth':options.width,'minHeight':options.height,title:fbTitle});FBDialog.dialog('open');$(".ui-widget-overlay").fadeTo('fast',options.overlayOpacity);if(options.hideTitleBar&&options.modal){$(".ui-dialog-titlebar").hide();$(".ui-widget-overlay").click(function(){FBDialog.dialog("close")})}if(options.clickOutsideClose&&options.modal){$(".ui-widget-overlay").click(function(){FBDialog.dialog("close")})}return false})}})},destroy:function(){return this.each(function(){$(this).unbind(".FBPopup");$(this).removeData('FB')})}};function getFBPlayer(URL,width,height){var FBPlayer='<iframe title="FB video player" style="margin:0; padding:0;" width="'+width+'" ';FBPlayer+='height="'+height+'" src="'+URL+'" frameborder="0" allowfullscreen></iframe>';return FBPlayer}function getFBIdFromUrl(fbUrl){return fbUrl}$.fn.FBPopup=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments)}else{$.error('Method '+method+' does not exist on jQuery.YouTubePopup')}};$.fn.FBPopup.defaults={'fbId':'','title':'','useFBTitle':true,'idAttribute':'rel','cssClass':'','draggable':false,'modal':true,'width':640,'height':480,'hideTitleBar':false,'clickOutsideClose':false,'overlayOpacity':0.5,'autohide':2,'autoplay':1,'color':'red','controls':1,'fs':1,'loop':0,'showinfo':0,'theme':'light'}})(jQuery);