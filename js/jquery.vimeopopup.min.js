(function($){var VimeoDialog=null;var methods={init:function(options){options=$.extend({},$.fn.VimeoPopup.defaults,options);if(VimeoDialog==null){VimeoDialog=$('<div>').css({display:'none',padding:0});if(options.cssClass!='')VimeoDialog.addClass(options.cssClass);$('body').append(VimeoDialog);VimeoDialog.dialog({autoOpen:false,resizable:false,draggable:options.draggable,modal:options.modal,close:function(){VimeoDialog.html('');$(".ui-dialog-titlebar").show()}})}return this.each(function(){var obj=$(this);var data=obj.data('Vimeo');if(!data){obj.data('Vimeo',{target:obj,'active':true});$(obj).bind('click.VimeoPopup',function(){var vimeoId=options.vimeoId;if($.trim(vimeoId)==''&&obj.is("a")){vimeoId=getVimeoIdFromUrl(obj.attr("href"))}if($.trim(vimeoId)==''||vimeoId===false){vimeoId=obj.attr(options.id)}var videoTitle=$.trim(options.title);var VimeoURL="http://player.vimeo.com/video/"+vimeoId; VimeoDialog.html(getVimeoPlayer(VimeoURL,options.width,options.height));VimeoDialog.dialog({'width':'auto','height':'auto'});VimeoDialog.dialog({'minWidth':options.width,'minHeight':options.height,title:videoTitle});VimeoDialog.dialog('open');$(".ui-widget-overlay").fadeTo('fast',options.overlayOpacity);if(options.hideTitleBar&&options.modal){$(".ui-dialog-titlebar").hide();$(".ui-widget-overlay").click(function(){VimeoDialog.dialog("close")})}if(options.clickOutsideClose&&options.modal){$(".ui-widget-overlay").click(function(){VimeoDialog.dialog("close")})}return false})}})},destroy:function(){return this.each(function(){$(this).unbind(".VimeoPopup");$(this).removeData('Vimeo')})}};function getVimeoPlayer(URL,width,height){var VimeoPlayer='<iframe title="Vimeo video player" style="margin:0; padding:0;" width="'+width+'" ';VimeoPlayer+='height="'+height+'" src="'+URL+'" frameborder="0" allowfullscreen></iframe>';return VimeoPlayer}function getVimeoIdFromUrl(vimeoUrl){var regExp=/^.*(vimeo.com\/\?v=)([^#\&\?]*).*/;var match=vimeoUrl.match(regExp);if(match&&match[2].length>4){return match[2]}else{return false}}$.fn.VimeoPopup=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments)}else{$.error('Method '+method+' does not exist on jQuery.YouTubePopup')}};$.fn.VimeoPopup.defaults={'vimeoId':'','title':'','useVimeoTitle':true,'idAttribute':'rel','cssClass':'','draggable':false,'modal':true,'width':640,'height':480,'hideTitleBar':false,'clickOutsideClose':false,'overlayOpacity':0.5,'autohide':2,'autoplay':1,'color':'red','controls':1,'fs':1,'loop':0,'showinfo':0,'theme':'light'}})(jQuery);